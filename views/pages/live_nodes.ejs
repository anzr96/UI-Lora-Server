<!-- views/pages/index.ejs -->

<!DOCTYPE html>
<html lang="en">

<!-- begin::Head -->

<head>
		<% include ../partials/head %>
		
</head>

<!-- end::Head -->

<!-- begin::Body -->

<body style="background-image: url(/static/assets/app/media/img/bg/bg-7.jpg)"
	class="m-page--fluid m-page--loading-enabled m-page--loading m-header--fixed m-header--fixed-mobile m-footer--push m-aside--offcanvas-default">

	<!-- begin::Page loader -->
	<div class="m-page-loader m-page-loader--base">
		<div class="m-blockui">
			<span>Please wait...</span>
			<span>
				<div class="m-loader m-loader--brand"></div>
			</span>
		</div>
	</div>

	<!-- end::Page Loader -->

	<!-- begin:: Page -->
	<div class="m-grid m-grid--hor m-grid--root m-page">

		<!-- begin::Header -->
		<% include ../partials/header %>

		<!-- end::Header -->

		<!-- begin::Body -->
		<div class="m-grid__item m-grid__item--fluid  m-grid m-grid--ver-desktop m-grid--desktop m-page__container m-body">
			<div class="m-grid__item m-grid__item--fluid m-wrapper">

				<!-- BEGIN: Subheader -->
				<div class="m-subheader ">
					<div class="d-flex align-items-center">
						<div class="mr-auto">
							<h3 class="m-subheader__title ">Nodes Data Table</h3>
						</div>
						<div>
							<span class="m-subheader__daterange" id="m_dashboard_daterangepicker">
								<span class="m-subheader__daterange-label">
									<span class="m-subheader__daterange-title"></span>
									<span class="m-subheader__daterange-date m--font-brand"></span>
								</span>
								<a href="#" class="btn btn-sm btn-brand m-btn m-btn--icon m-btn--icon-only m-btn--custom m-btn--pill">
									<i class="la la-angle-down"></i>
								</a>
							</span>
						</div>
					</div>
				</div>

				<!-- END: Subheader -->
				<div class="m-content">

                    <div class="row">
                        <div class="col-xl-12">
                            <div class="m-portlet">
                                <table id="my_table_1" class="table table-striped- table-bordered table-hover responsive" style="width: 100%">
                                    <thead>
                                        <tr>
                                            <th>Device Address</th>
                                            <th>Sensor Name</th>
                                            <th>Sensor Value</th>
                                            <th>Date</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% nodes.forEach(function(node) { %>
                                            <tr>
                                                <td><%= node.devaddr %></td>
                                                <td><%= node.sensor %></td>
                                                <td><%= node.value %></td>
                                                <td><%= node.date %></td>
                                            </tr>
                                        <% }); %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                </div>
			</div>
		</div>

		<!-- end::Body -->

		<!-- begin::Footer -->
		<% include ../partials/footer %>
		
		<!-- end::Footer -->
	</div>

	<!-- end:: Page -->

	<!-- begin::Quick Sidebar -->
	<% include ../partials/sidebar %>

	<!-- end::Quick Sidebar -->

	<% include ../partials/foot %>

	<!--begin::Page Scripts -->
    <script src="/static/assets/app/js/dashboard.js" type="text/javascript"></script>

	<!--end::Page Scripts -->

	<!-- begin::Page Loader -->
	<script>
		$(window).on('load', function () {
			$('body').removeClass('m-page--loading');
		});
	</script>

	
    <script>
		$(document).ready(function(){
			$("#my_table_1").DataTable({
				responsive: true,
                ordering: true,
                order: [3, 'desc']
			});
		});
	</script>

	<!-- end::Page Loader -->
</body>

<!-- end::Body -->

</html>